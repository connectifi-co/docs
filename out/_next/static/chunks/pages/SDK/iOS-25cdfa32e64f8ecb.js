(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[107],{3719:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/SDK/iOS",function(){return s(8138)}])},1057:function(e,n,s){"use strict";var t=s(1527);s(959);let i={logo:(0,t.jsx)("span",{children:"My Project"}),project:{link:"https://github.com/shuding/nextra-docs-template"},chat:{link:"https://discord.com"},docsRepositoryBase:"https://github.com/shuding/nextra-docs-template",footer:{text:"Nextra Docs Template"}};n.Z=i},8138:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return o.Z}});var t=s(1527),i=s(7265),a=s(4603),l=s(1057);s(6971);var r=s(313);s(8090);var o=s(5228);function c(e){let n=Object.assign({h1:"h1",p:"p",ul:"ul",li:"li",pre:"pre",code:"code",span:"span",h3:"h3"},(0,r.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{children:"iOS SDK Installation"}),"\n",(0,t.jsx)(n.p,{children:"This package provides a wrapper around @connectifi/agent-web to provide native swift bindings. In addition, a default resolver UI that can be used in your application."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Installation"}),"\n",(0,t.jsx)(n.li,{children:"Swift Package Manager"}),"\n",(0,t.jsx)(n.li,{children:"Add package to your target dependencies in Package.swift:"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"import PackageDescription"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"let package = Package("})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'  name: "YourProject",'})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  dependencies: ["})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    .package("})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'        url: "PUT_URL_HERE",'})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:'        from: "PUT_VERSION_HERE"'})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    ),"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  ]"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:")"})})]})}),"\n",(0,t.jsx)(n.h1,{children:"Agent Setup"}),"\n",(0,t.jsx)(n.p,{children:"The exposed class is ConnectifiAgent which implements the FDC3 2.0 API. The constructor takes two arguments with an optional third."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"interopHost - the URL of the Connectifi service the app is targeting"}),"\n",(0,t.jsx)(n.li,{children:"appId - the FDC3 appId for the app. Note: this must be in the format of appName@directoryName (see security model in @connectifi/agent-web)"}),"\n",(0,t.jsx)(n.li,{children:"config - See the shape of the config struct below\nTODO: ADD PROPS AND OTHER CONFIG"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"public typealias ConnectifiEventHandler = (ConnectifiEvent) -> Bool"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"}})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"public struct AgentConfig {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    var connectifiEventHandler: ConnectifiEventHandler?"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"connectifiEventHandler - is a function that receives a connectifi event, specified below and can return true to overwrite the default behavior. Currently, only onAuthError, handleOpen, and handleIntentResolution. Default Behavior is as follows:"}),"\n",(0,t.jsx)(n.li,{children:"handleOpen - Opens the url of the app in safari"}),"\n",(0,t.jsx)(n.li,{children:"onAuthError - Will open the webview to prompt the user to login"}),"\n",(0,t.jsx)(n.li,{children:"handleIntentResolution - Will open the resolver UI if either of the connectifi sheets are mounted in the view"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"public enum ConnectifiEvent {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case handleIntentResolution(IntentResolutionRequest)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case handleOpen(ConnectifiOpenMessage)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onAuthError(directoryName: String)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onAppIdentityError(directoryName: String)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onLoadError"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onChannelJoined(channel: String)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onChannelLeft"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onConnected"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onDisconnected(retryTime: Double?)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onWorkingChanged(working: Bool)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onSignedIn(username: String)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onSignedOut"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    case onFDC3Ready"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsx)(n.h3,{id:"handleintentresolution",children:"handleIntentResolution"}),"\n",(0,t.jsx)(n.p,{children:"This event is emitted when an ambiguous list of intent results is pushed to the app for the end user to resolve. The IntentResolutionRequest struct has two methods:"}),"\n",(0,t.jsxs)(n.p,{children:["resolveCallback(selected:ConnectifiApp, intent: String) - Select the app with the given intent.\n",(0,t.jsx)(n.code,{children:"closeCallback()"}),' - Cancels the intent resolution request. The original "raise" call is resolved with an IntentResolution of the current app']}),"\n",(0,t.jsx)(n.h3,{id:"view-setup",children:"View Setup"}),"\n",(0,t.jsx)(n.p,{children:"This package exports ConnectifiContextView. This is used to mount an invisible webview inside your app to prevent it from automatically being killed. As such please mount it near the root of your application. This view also takes the internal view model of the ConnectifiAgent as an argument."}),"\n",(0,t.jsx)(n.p,{children:"Example Usage:"}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"@main"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"struct MyApp: App {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    // This is a wrapper around ConnectifiAgent"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    @StateObject var connectifiVM = ConnectifiViewModel()"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    var body: some Scene {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        WindowGroup {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            NavigationStack {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                ConnectifiContextView(internalVM: connectifiVM.connectifiAgent.internalVM){"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                    MainView()"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"                }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            .environmentObject(connectifiVM)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsx)(n.p,{children:"In addition, if using the default resolver UI it has to also be mounted inside the application. This package provides the following extension to View."}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"public extension View {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    func connectifiDevResolver(internalVMProjected: EnvironmentObject<ConnectifiInternalViewModel>.Wrapper) -> some View {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        return self.sheet(item: internalVMProjected.intentResolution, content: {_ in ConnectifiResolverUIView().presentationDetents([.height(500)])})"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    func connectifiShareResolver(internalVMProjected: EnvironmentObject<ConnectifiInternalViewModel>.Wrapper) -> some View {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        return self.sheet(item: internalVMProjected.intentResolution, content: {_ in ConnectifiShareView().presentationDetents([.height(200)])})"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})}),"\n",(0,t.jsx)(n.p,{children:"Two default resolver UIs are provided. connectifiDevResolver is most similar to the web resolver ui and provides a list view of all available apps. We recommend this resolver to mostly just be used for an easier debug experience. The connectifiShareResolver provides the users with an experience similar to that of the native iOS share sheet. This resolver UI is more intuitive to use and better aligns to iOS design expectations."}),"\n",(0,t.jsx)(n.p,{children:"Example Usage:"}),"\n",(0,t.jsx)(n.pre,{"data-language":"text","data-theme":"default",children:(0,t.jsxs)(n.code,{"data-language":"text","data-theme":"default",children:[(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"struct MainListView: View {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    @EnvironmentObject var connectifiInternalVM: ConnectifiInternalViewModel"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    var body: some View {"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"        tickerListView"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            . ///"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"            .connectifiShareResolver(internalVMProjected: $connectifiInternalVM)"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    }"})}),"\n",(0,t.jsx)(n.span,{className:"line",children:(0,t.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})})]})})]})}e=s.hmd(e),(0,i.j)({Content:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)},nextraLayout:a.ZP,hot:e.hot,pageOpts:{filePath:"pages/SDK/iOS.mdx",route:"/SDK/iOS",frontMatter:{},pageMap:[{kind:"Folder",name:"Actions",route:"/Actions",children:[{kind:"MdxPage",name:"Actions",route:"/Actions/Actions"},{kind:"Meta",data:{Actions:"Actions","data-api":"Data API","deep-link":"Deep Link","enhanced-deep-links":"Enhanced Deep Links"}},{kind:"MdxPage",name:"data-api",route:"/Actions/data-api"},{kind:"MdxPage",name:"deep-link",route:"/Actions/deep-link"},{kind:"MdxPage",name:"enhanced-deep-links",route:"/Actions/enhanced-deep-links"}]},{kind:"MdxPage",name:"Applications",route:"/Applications"},{kind:"MdxPage",name:"Channels",route:"/Channels"},{kind:"MdxPage",name:"Contexts",route:"/Contexts"},{kind:"MdxPage",name:"Directories",route:"/Directories"},{kind:"MdxPage",name:"Intents",route:"/Intents"},{kind:"Folder",name:"Receptors",route:"/Receptors",children:[{kind:"MdxPage",name:"Broadcast",route:"/Receptors/Broadcast"},{kind:"MdxPage",name:"Multibroadcast",route:"/Receptors/Multibroadcast"},{kind:"MdxPage",name:"RaiseIntent",route:"/Receptors/RaiseIntent"},{kind:"MdxPage",name:"Receptors",route:"/Receptors/Receptors"},{kind:"Meta",data:{Receptors:"Receptors",Broadcast:"Broadcast",Multibroadcast:"Multi-Broadcast",RaiseIntent:"Raise Intent"}}]},{kind:"Folder",name:"SDK",route:"/SDK",children:[{kind:"MdxPage",name:"DotNet",route:"/SDK/DotNet"},{kind:"MdxPage",name:"Web",route:"/SDK/Web"},{kind:"Meta",data:{DotNet:".Net",iOS:"iOS",Web:"Web"}},{kind:"MdxPage",name:"iOS",route:"/SDK/iOS"}]},{kind:"Folder",name:"Use Cases",route:"/Use Cases",children:[{kind:"MdxPage",name:"FDC3",route:"/Use Cases/FDC3"},{kind:"Meta",data:{FDC3:"FDC3"}}]},{kind:"Meta",data:{index:"Introduction",SDK:"SDK",Channels:"Channels",Applications:"Applications",Directories:"Directories",Intents:"Intents",Contexts:"Contexts",Actions:"Actions",Receptors:"Receptors",Security:"Security",about:{title:"About",type:"page"},contact:{title:"Contact ↗",type:"page",href:"mailto:support@connectifi.co",newWindow:!0},advanced:"Advanced",another:"Another"}},{kind:"MdxPage",name:"about",route:"/about"},{kind:"Folder",name:"advanced",route:"/advanced",children:[{kind:"MdxPage",name:"satori",route:"/advanced/satori"},{kind:"Meta",data:{satori:"Satori"}}]},{kind:"MdxPage",name:"advanced",route:"/advanced"},{kind:"MdxPage",name:"another",route:"/another"},{kind:"MdxPage",name:"index",route:"/"}],headings:[{depth:1,value:"iOS SDK Installation",id:"ios-sdk-installation"},{depth:1,value:"Agent Setup",id:"agent-setup"},{depth:3,value:"handleIntentResolution",id:"handleintentresolution"},{depth:3,value:"View Setup",id:"view-setup"}],timestamp:1731437497e3,flexsearch:{codeblocks:!0},title:"Agent Setup"},themeConfig:l.Z,pageNextRoute:"/SDK/iOS",pageOptsChecksum:void 0,dynamicMetaModules:[]})}},function(e){e.O(0,[774,589,888,179],function(){return e(e.s=3719)}),_N_E=e.O()}]);